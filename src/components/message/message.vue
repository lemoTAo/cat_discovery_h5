<template>
  <div style="padding: 0rem 1rem;box-sizing: border-box;height:85vh;">
    <header id="message-header">
      消息
    </header>
    <div class="function">
      <ul>
        <li>
          <div class="imgbox">
            <!-- <img src="../../../static/img/duck.jpg" alt=""> -->
            <svg xmlns="http://www.w3.org/2000/svg" width="51" height="51" viewBox="0 0 51 51">
              <g id="组_55" data-name="组 55" transform="translate(-32 -62)">
                <rect id="矩形_1" data-name="矩形 1" width="51" height="51" rx="14" transform="translate(32 62)"
                  fill="#e7f1ff" />
                <path id="路径_9" data-name="路径 9"
                  d="M18.135,22.629A14.782,14.782,0,0,0,23.976,23.8a15.294,15.294,0,0,0,5.57-1A8.535,8.535,0,0,0,33.3,20.142h.008a1.233,1.233,0,0,1,2.46.06h.1c-.024.073-.06.143-.086.214a1.227,1.227,0,0,1-.4.853,8.615,8.615,0,0,1-3.354,3.247,15.813,15.813,0,0,1-7.833,1.8,18.1,18.1,0,0,1-7.725-1.52,10.447,10.447,0,0,1-4.838-4.612,13.468,13.468,0,0,1-1.585-6.453,14.671,14.671,0,0,1,1.8-7.134,11.885,11.885,0,0,1,4.933-4.961A15.067,15.067,0,0,1,23.933-.022,13.332,13.332,0,0,1,30,1.314a9.043,9.043,0,0,1,3.91,3.8,10.545,10.545,0,0,1,1.244,5.376,10.94,10.94,0,0,1-1.894,6.283,8.512,8.512,0,0,1-6.77,3.469,2.978,2.978,0,0,1-1.694-.395,1.913,1.913,0,0,1-.759-1.159,5.133,5.133,0,0,1-3.686,1.554A4.187,4.187,0,0,1,17.4,18.9a5.872,5.872,0,0,1-1.437-4.3,11.361,11.361,0,0,1,1.7-5.548,6.288,6.288,0,0,1,4.812-3.142,5.116,5.116,0,0,1,4.178,2l.111-.408a1.182,1.182,0,0,1-.032-.265l-.011-.111a1.191,1.191,0,1,1,2.382,0v.013h.014l-.01.038.006.06a1.181,1.181,0,0,1-.179.625l-1.99,7.786a8.333,8.333,0,0,0-.191,1.262.734.734,0,0,0,.156.511.487.487,0,0,0,.373.17,7.212,7.212,0,0,0,2.648-1.143,6.137,6.137,0,0,0,2.043-2.487,7.988,7.988,0,0,0,.722-3.612,7.1,7.1,0,0,0-2.084-5.608,9.486,9.486,0,0,0-6.736-2.275,11.586,11.586,0,0,0-6.1,1.526,9.579,9.579,0,0,0-3.871,4.238,13.2,13.2,0,0,0-1.349,5.69A9.6,9.6,0,0,0,14,19.091a8.8,8.8,0,0,0,4.138,3.538Zm6.5-13.446a2.568,2.568,0,0,0-1.965-.76,2.743,2.743,0,0,0-2.046.777,4.567,4.567,0,0,0-1.489,2.285,12.1,12.1,0,0,0-.78,2.971,3.871,3.871,0,0,0,.7,2.548,2.814,2.814,0,0,0,2.025.818,2.449,2.449,0,0,0,1.3-.446,3.586,3.586,0,0,0,1.017-.858,7.092,7.092,0,0,0,1.24-2.426,10.144,10.144,0,0,0,.78-2.907,2.594,2.594,0,0,0-.776-2Z"
                  transform="translate(34.958 74.025)" fill="#7bbbff" />
              </g>
            </svg>

            <span>12</span>
          </div>
          <div>
            <span>@我的</span>
          </div>
        </li>
        <li>
          <div class="imgbox">
            <!-- <img src="../../../static/img/duck.jpg" alt=""> -->
            <svg xmlns="http://www.w3.org/2000/svg" width="51" height="51" viewBox="0 0 51 51">
              <g id="组_56" data-name="组 56" transform="translate(-116 -62)">
                <rect id="矩形_2" data-name="矩形 2" width="51" height="51" rx="14" transform="translate(116 62)"
                  fill="#ffe9e9" />
                <path id="路径_8" data-name="路径 8"
                  d="M147.546,136.961q.8,0,1.593-.011l.293,0a4.158,4.158,0,0,1,4.252,5.041l-1.55,8.7a4.264,4.264,0,0,1-4.064,3.409l-14.345.013a1.434,1.434,0,0,1-1.432-1.423l-.027-12.884a1.432,1.432,0,0,1,1.41-1.432l.106,0c.175,0,.4,0,.659,0a6,6,0,0,0,5.728-5.736c-.005-2.91,1.335-4.253,3.572-4.28,2.089-.025,3.577,2,3.6,5a17.9,17.9,0,0,1-.487,3.6l.691,0Zm-16.7,2.122.016,14.313a.715.715,0,0,1-.723.717h-1.418A.716.716,0,0,1,128,153.4V139.082a.714.714,0,0,1,.718-.717h1.409a.722.722,0,0,1,.719.717Z"
                  transform="translate(1 -53.356)" fill="#fd5e5b" />
              </g>
            </svg>

          </div>
          <div>
            <span>点赞</span>
          </div>
        </li>
        <li @click="$router.push({ path: '/message/fans', query: { title: '粉丝' } })">
          <div class="imgbox">
            <!-- <img src="../../../static/img/duck.jpg" alt=""> -->
            <svg xmlns="http://www.w3.org/2000/svg" width="51" height="51" viewBox="0 0 51 51">
              <g id="组_57" data-name="组 57" transform="translate(-200 -63)">
                <rect id="矩形_4" data-name="矩形 4" width="51" height="51" rx="14" transform="translate(200 63)"
                  fill="#fff0df" />
                <g id="组_4" data-name="组 4" transform="translate(-68.6 -168.752)">
                  <path id="路径_13" data-name="路径 13"
                    d="M300.333,259.973c-.264-.3-.53-.59-.793-.853a9.448,9.448,0,0,0-1.435-1.206,7.99,7.99,0,0,0-.1-10.875,7.293,7.293,0,0,0-10.607,0,8.018,8.018,0,0,0-1.5,8.758,7.771,7.771,0,0,0,1.393,2.117,9.465,9.465,0,0,0-1.434,1.206,19.185,19.185,0,0,0-2.011,2.4,17.668,17.668,0,0,0-1.581,2.649,5.851,5.851,0,0,0-.668,2.347.487.487,0,0,0,.487.487l15.354.033A5.781,5.781,0,0,1,296.174,265a4.212,4.212,0,0,1-.165-1.188C296.009,260.909,298.127,259.213,300.333,259.973Z"
                    transform="translate(0 0)" fill="#ffc56b" />
                  <path id="路径_14" data-name="路径 14"
                    d="M603.3,580.349c.6-.5,3.636-2.734,4.24-4.533a3.181,3.181,0,0,0,.142-1.026c0-3.3-3.005-4.717-5.334-2.228-2.32-2.49-5.329-.989-5.329,2.228a3.636,3.636,0,0,0,.142,1.026c.54,1.847,3.637,4.031,4.24,4.533.211.176.407.332.584.468.106.082.183.139.224.169l.142.1.142-.1c.042-.03.118-.087.224-.169C602.9,580.681,603.093,580.525,603.3,580.349Z"
                    transform="translate(-300.173 -310.757)" fill="#ffc56b" />
                </g>
              </g>
            </svg>

          </div>
          <div>
            <span>粉丝</span>
          </div>
        </li>
        <li @click="$router.push({ path: '/message/replay', query: { title: '回复' } })">
          <div class="imgbox">
            <!-- <img src="../../../static/img/duck.jpg" alt=""> -->
            <svg xmlns="http://www.w3.org/2000/svg" width="51" height="51" viewBox="0 0 51 51">
              <g id="组_58" data-name="组 58" transform="translate(-284 -62)">
                <rect id="矩形_3" data-name="矩形 3" width="51" height="51" rx="14" transform="translate(284 62)"
                  fill="#e4faf1" />
                <path id="路径_10" data-name="路径 10"
                  d="M90.042,207.45H68.975a1.919,1.919,0,0,1-1.913-1.914V199.9l-2.794-2.455a.919.919,0,0,1,0-1.3l2.794-2.455v-5.362a1.919,1.919,0,0,1,1.914-1.913H90.042a1.919,1.919,0,0,1,1.914,1.913v17.2a1.919,1.919,0,0,1-1.914,1.914ZM75.13,194.486a2.211,2.211,0,1,0,2.211,2.211,2.211,2.211,0,0,0-2.211-2.211Zm9.79,0a2.211,2.211,0,1,0,2.211,2.211,2.211,2.211,0,0,0-2.211-2.211Zm0,0"
                  transform="translate(231 -109.42)" fill="#33da98" />
              </g>
            </svg>

          </div>
          <div>
            <span>回复</span>
          </div>
        </li>
      </ul>

    </div>
    <div class="message-content">
      <div id="news" v-show="news">
        <div class="message_tip" v-if="!data.user_info">暂无最新消息</div>
        <div v-else>
          <news v-for="(item, index) in  data.user_info" :item="item" :key="index"></news>
        </div>

      </div>
    </div>
  </div>
</template>
<script>
import { mapState } from 'vuex';
import news from "../common/news.vue";
export default {
  components: {
    news
  },
  computed: {
    ...mapState('message_module', { data: 'news' })
  },
  data() {
    return {
      tabTitle: ["消息", "聊天", "通知"],
      cur: 0,
      news: true,
      newItem: []
    };
  },
  methods: {
    tab(index) {
      this.cur = index;
      switch (index) {
        case 0:
          this.news = true;
          break;
        case 1:
          this.news = false;
          break;
        case 2:
          this.news = false;
          break;
      }
    },
    loadNews() {
      this.$http
        .get("static/data/message/mineNews.json")
        .then(response => {
          let unReplyNumber = 0;
          let result = response.data.mineNews;
          for (let i in result) {
            this.newItem.push({
              read: result[i].read
            });
            if (result[i].read == false)
              unReplyNumber++
          }

          this.$store.dispatch("message/initUnReplay", unReplyNumber);
          console.log('ok');
        })
        .catch(function (error) {
          console.log(error);
        });
    }
  },
  mounted() {
    // console.log(message.replyCount);
  },
  created() {
    // this.loadNews();
  }
};
</script>
<style>
@import "../../assets/css/message.css";

.message_tip {
  color: #c2bfbf;
  font-size: 1.5rem;
}
</style>
